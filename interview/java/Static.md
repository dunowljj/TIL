# static 키워드

## static 멤버

- 클래스 멤버라고도 한다. 클래스 레벨에서 관리되고, 객체의 생성 여부와 관계없이 접근할 수 있다.
- 클래스 로더가 클래스를 로딩해서 Method 메모리 영역에 적재할 때 클래스별로 관리된다.
- 하나의 멤버를 어디서든지 참조할 수 있다.
- static 키워드를 통해 생성된 정적 멤버들은 Method 영역에 저장된다. 자바 8 이후, 메타데이터의 경우에는 메타스페이스에 저장된다.
- GC의 관리 영역 밖에 존재하기 때문에 프로그램 종료시까지 메모리가 할당된 채로 존재한다. 즉, 남발하게 되면 시스템 성능에 악영향을 줄 수 있다. -> 드물게 그 클래스를 로드한 클래스 로더가 GC 대상이 되면 정적 필드를 가진 클래스도 GC될 수 있다.

### 멤버?

- Java와 같은 언어에서 클래스나 인터페이스 내에 포함된 구성 요소를 지칭하는 일반적인 표현
- 클래스나 인터페이스의 멤버는 그 안에 정의된 변수(필드), 메서드(함수), 클래스, 인터페이스 등을 포함할 수 있다.

## static 멤버 vs non-static 멤버

### non-static 멤버

인스턴스 멤버라고 부른다.

- 공간적 특성
  - 해당 멤버는 객체마다 별도로 존재한다.
- 시간적 특성
  - 객체 생성 시에 멤버가 생성되며, 객체 생성 후에 멤버 사용이 가능하다.
  - 객체가 사라지면 해당 멤버도 사라진다.
- 공유의 특성
  - 멤버는 객체 내에 각각 독립된 공간을 유지하므로 공유되지 않는다.

### static 멤버

- 공간적 특성
  - 해당 멤버는 클래스 당 하나만 생성된다.
- 시간적 특성
  - 클래스 로딩 시에 멤버가 생성된다.
  - 객체가 생성되기 전에 이미 생성되며, 객체를 생성하지 않고도 사용 가능.
  - 객체가 사라져도 해당 멤버가 사라지지 않는다.
  - 보통 프로그램이 종료되어야 사라진다.
- 공유의 특성
  - 동일한 클래스의 모든 객체들에 의해 공유된다. (하나의 클래스로부터 생성된 여러 객체가 공유한다.)

## static의 사용

### 정적 변수(Static variable)

- 클래스의 모든 인스턴스에 의해 공유되는 변수.
- 클래스 레벨에서 관리되며, 클래스가 로드될 때 한 번만 초기화된다.

### 정적 초기화 블록(Static Initialization Blocks)

- 클래스가 로드될 때 단 한 번 실행되는 코드 블록
- 정적 초기화 블록에서 인스턴스 변수를 직접 초기화하는 것은 기술적으로 불가능하다.

#### 활용

- 복잡한 초기화 작업이 필요한 정적 데이터를 초기화하는 경우
- 클래스 로딩 시 한 번만 실행되어야 하는 코드를 실행하는 경우

### 정적 메서드 (Static Methods)

- 인스턴스 없이 클래스 이름을 통해 직접 호출될 수 있다.
- 클래스 메서드라고도 불리며, 인스턴스 변수나 메서드에 접근할 수 없다.
- 하지만 static 변수나 다른 static 메서드에는 접근 가능하다.
- 오버라이딩될 수 없다. 상속을 통해 하위 클래스에서 같은 시그니처의 static 메서드를 선언할 수는 있다. (정적 숨김)

#### 활용

- static 메서드는 유틸리티 함수나 헬퍼 함수를 구현하는 데 자주 사용한다.
- ex) `Math.max()`

### 정적 중첩 클래스(Static Nested Classes)

- 다른 클래스 내부에 선언되는 클래스. 이 클래스는 외부 클래스의 인스턴스 없이도 생성될 수 있다.
- static 예약어가 없이 사용하는 내부 클래스는 외부 참조를 일으키며, 정적 중첩 클래스가 권장된다.

## 참고

- https://github.com/ksundong/backend-interview-question
- https://velog.io/@sezzzini/Java-static-%EB%9C%AF%EC%96%B4%EB%B3%B4%EA%B8%B0
- https://github.com/WooVictory/Ready-For-Tech-Interview/blob/master/Java/%5BJava%5D%20non-static%20%EB%A9%A4%EB%B2%84%EC%99%80%20static%20%EB%A9%A4%EB%B2%84%EC%9D%98%20%EC%B0%A8%EC%9D%B4.md
